{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 12dc5f2cccb4e6f24b46","webpack:///./src/main.js","webpack:///./src/util.js","webpack:///./src/aperture.js","webpack:///./src/element.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Aperture\"] = factory();\n\telse\n\t\troot[\"Aperture\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 12dc5f2cccb4e6f24b46\n **/","import Aperture from './aperture';\nexport default Aperture;\nmodule.exports = Aperture;\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","export function identity(arg) {\n    return arg;\n}\n\nexport const browser = (() => {\n    // Opera 8.0+\n    var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n    // Firefox 1.0+\n    var isFirefox = typeof InstallTrigger !== 'undefined';\n    // At least Safari 3+: \"[object HTMLElementConstructor]\"\n    var isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n    // Internet Explorer 6-11\n    var isIE = /*@cc_on!@*/ false || !!document.documentMode;\n    // Edge 20+\n    var isEdge = !isIE && !!window.StyleMedia;\n    // Chrome 1+\n    var isChrome = !!window.chrome && !!window.chrome.webstore;\n    // Blink engine detection\n    var isBlink = (isChrome || isOpera) && !!window.CSS;\n    return {\n        isOpera,\n        isFirefox,\n        isIE,\n        isEdge,\n        isChrome,\n        isBlink\n    };\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","import Element from './element';\nimport * as util from './util';\nexport default class Aperture {\n    constructor({\n        onInit = util.identity,\n        onRender = util.identity,\n        onRerender = util.identity,\n        onScroll = util.identity,\n        onOverflow = util.identity,\n        items = [],\n        height = '100%'\n    } = {}) {\n        this.container = new Element({\n            className: 'aperture',\n            style: {\n                position: 'relative',\n                overflow: 'hidden',\n                height: height\n            }\n        });\n        this.viewport = new Element({\n            className: 'viewport',\n            style: {\n                position: 'absolute',\n                top: 0\n            }\n        }).appendTo(this.container);\n        this.scrollable = new Element({\n            className: 'scrollable',\n            style: {\n                height: '100%',\n                position: 'absolute',\n                top: 0,\n                right: 0,\n                overflow: 'auto'\n            }\n        }).appendTo(this.container);\n        this.filler = new Element({\n            className: 'filler'\n        }).appendTo(this.scrollable);\n\n        this.items = items;\n        this.onInit = onInit;\n        this.onRender = onRender;\n        this.onRerender = onRerender;\n        this.onScroll = onScroll;\n        this.onOverflow = onOverflow;\n        this.config = {\n            itemStartIndex: 0,\n            defaultScrollbarWidth: 16,\n            initHeight: 0,\n            itemHeight: 0,\n            totalHeight: 0,\n            numOfItemsToRender: 0,\n            numOfPlaceholders: 1\n        };\n    }\n\n    init() {\n        this.onInit(this.viewport.domNode);\n        this.config.initHeight = this.viewport.domNode.offsetHeight;\n    }\n\n    render() {\n        let i = 0;\n        while (this.viewport.domNode.scrollHeight < this.container.domNode.scrollHeight && i < this.items.length) {\n            this.onRender(this.viewport.domNode, this.items[i], i, i - this.config.itemStartIndex);\n            ++i;\n        }\n        this.config.numOfItemsToRender = i;\n        this.config.itemHeight = (this.viewport.domNode.scrollHeight - this.config.initHeight) / this.config.numOfItemsToRender;\n        this.config.totalHeight = this.config.itemHeight * this.items.length +\n            this.config.itemHeight * this.config.numOfPlaceholders;\n    }\n\n    updateLayout() {\n        this.filler.style.height = this.config.totalHeight + 'px';\n        let scrollbarWidth = this.scrollable.domNode.offsetWidth - this.scrollable.domNode.clientWidth;\n        this.scrollable.style.width = (scrollbarWidth || this.config.defaultScrollbarWidth) + 'px';\n        this.viewport.style.width = (1 - scrollbarWidth / this.container.domNode.clientWidth) * 100 + '%';\n    }\n\n    handleWheel(event) {\n        let browser = util.browser;\n        if (browser.isBlink || browser.isSafari) {\n            let wheelEvent = new WheelEvent('wheel', {\n                deltaX: event.deltaX,\n                deltaY: event.deltaY,\n                deltaZ: event.deltaZ,\n                deltaMode: event.deltaMode\n            });\n            this.scrollable.domNode.dispatchEvent(wheelEvent);\n        } else {\n            this.scrollable.domNode.scrollTop += event.deltaY;\n        }\n    }\n\n    handleScroll(event) {\n        let scrollTop = this.scrollable.domNode.scrollTop;\n        let startIndex = Math.ceil(scrollTop / this.config.itemHeight);\n        let endIndex = startIndex + this.config.numOfItemsToRender - 1;\n        this.onScroll(this.viewport.domNode, items, startIndex, endIndex);\n        if (endIndex >= this.items.length) {\n            this.onOverflow(this.viewport.domNode, endIndex - startIndex);\n            endIndex --;\n        }\n        for (let i = startIndex; i <= endIndex; ++i) {\n            this.onRerender(\n                this.viewport.domNode,\n                this.items[i],\n                i,\n                i - startIndex, // index related to the visible items\n                i >= this.items.length);\n        }\n    }\n\n    renderTo(target) {\n        target.appendChild(this.container.domNode);\n        this.init();\n        this.render();\n        this.updateLayout();\n        this.container.domNode.addEventListener('wheel', event => {\n            event.preventDefault();\n            this.handleWheel(event);\n        });\n\n        this.scrollable.domNode.addEventListener('scroll', event => {\n            if (requestAnimationFrame) {\n                requestAnimationFrame(() => this.handleScroll(event));\n            } else {\n                this.handleScroll(event);\n            }\n        });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/aperture.js\n **/","export default class Element {\n    constructor({\n        elementType = 'div',\n        style,\n        className\n    } = {}) {\n        this.domNode = document.createElement(elementType);\n        this.style = style;\n        this.className = className;\n    }\n\n    set className(className) {\n        if (className)\n            this.domNode.setAttribute('class', className);\n    }\n\n    get className() {\n        return this.domNode.getAttribute('class');\n    }\n\n    set style(style) {\n        for (let styleName in style) {\n            this.domNode.style[styleName] = style[styleName];\n        }\n    }\n\n    get style() {\n        return this.domNode.style;\n    }\n\n    appendTo(target) {\n        if (target instanceof HTMLElement)\n            target.appendChild(this.domNode);\n        else if (target instanceof Element)\n            target.domNode.appendChild(this.domNode);\n        return this;\n    }\n\n    removeAllChildren() {\n        while(this.domNode.firstChild) {\n            this.domNode.removeChild(this.domNode.firstChild);\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/element.js\n **/"],"sourceRoot":""}